!function(n,t){"function"==typeof define&&define.amd?define([],function(){return t(n)}):"object"==typeof exports?module.exports=t(n):n.Polyglot=t(n)}(this,function(n){"use strict";function t(n){n=n||{},this.phrases={},this.extend(n.phrases||{}),this.currentLocale=n.locale||"en",this.allowMissing=!!n.allowMissing,this.warn=n.warn||u}function r(n){var t,r,e,o={};for(t in n)if(n.hasOwnProperty(t)){r=n[t];for(e in r)o[r[e]]=t}return o}function e(n){var t=/^\s+|\s+$/g;return n.replace(t,"")}function o(n,t,r){var o,i,c;return null!=r&&n?(i=n.split(f),c=i[s(t,r)]||i[0],o=e(c)):o=n,o}function i(n){var t=r(p);return t[n]||t.en}function s(n,t){return h[i(n)](t)}function c(n,t){for(var r in t)"_"!==r&&t.hasOwnProperty(r)&&(n=n.replace(new RegExp("%\\{"+r+"\\}","g"),t[r]));return n}function u(t){n.console&&n.console.warn&&n.console.warn("WARNING: "+t)}function a(n){var t={};for(var r in n)t[r]=n[r];return t}t.VERSION="0.4.3",t.prototype.locale=function(n){return n&&(this.currentLocale=n),this.currentLocale},t.prototype.extend=function(n,t){var r;for(var e in n)n.hasOwnProperty(e)&&(r=n[e],t&&(e=t+"."+e),"object"==typeof r?this.extend(r,e):this.phrases[e]=r)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(n){this.clear(),this.extend(n)},t.prototype.t=function(n,t){var r,e;return t=null==t?{}:t,"number"==typeof t&&(t={smart_count:t}),"string"==typeof this.phrases[n]?r=this.phrases[n]:"string"==typeof t._?r=t._:this.allowMissing?r=n:(this.warn('Missing translation for key: "'+n+'"'),e=n),"string"==typeof r&&(t=a(t),e=o(r,this.currentLocale,t.smart_count),e=c(e,t)),e},t.prototype.has=function(n){return n in this.phrases};var f="||||",h={chinese:function(n){return 0},german:function(n){return 1!==n?1:0},french:function(n){return n>1?1:0},russian:function(n){return n%10===1&&n%100!==11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},czech:function(n){return 1===n?0:n>=2&&n<=4?1:2},polish:function(n){return 1===n?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},icelandic:function(n){return n%10!==1||n%100===11?1:0}},p={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t});